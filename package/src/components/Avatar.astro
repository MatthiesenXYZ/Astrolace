---
import type { SlAvatar } from '@shoelace-style/shoelace'
import type { ImageMetadata } from 'astro';


interface Props extends Omit<SlAvatar, any>{
    /** The image source to use for the avatar. */
    image?: string | ImageMetadata;
    /** A label to use to describe the avatar to assistive devices. */
    label?: string;
    /** Initials to use as a fallback when no image is available (1-2 characters max recommended). */
    initials?: string;
    /** Indicates how the browser should load the image. */
    loading?: 'eager' | 'lazy';
    /** The shape of the avatar. */
    shape?: 'circle' | 'square' | 'rounded';
    /** The icon to use when no image is available. */
    defaultImage?: string;
}

const { image, initials, label, loading = "eager", shape = "circle", defaultImage = "person-fill", ...rest } = Astro.props;


---

<sl-avatar {image} {initials} {label} {loading} {shape} {...rest}>
    <sl-icon slot="icon" name={defaultImage}></sl-icon>
</sl-avatar>

<script>
    import '@shoelace-style/shoelace/dist/components/avatar/avatar.js';
</script>